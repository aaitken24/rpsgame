<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Console game</title>
    </head>
    <body>
        <script>
            function computerPlay(){
                let randNum= Math.ceil(Math.random()*3)
                if (randNum==1) {
                    return("paper");
                }
                else if (randNum==2) {
                    return("rock");
                }
                else if (randNum==3) {
                    return("scissors");
                }
                else {
                    return("Error! Something went wrong.");
                }
            }
            function playerPlay(){
                let playerAnswer;
                let check = true;
                while (check){
                    playerAnswer= prompt("Pick rock paper or scissors.").toLowerCase();
                    if (['rock','paper','scissors'].includes(playerAnswer)){
                        check = false;
                    }
                }
                return playerAnswer;
            }
            let playerPoints = 0;
            let computerPoints = 0;
            function winLoose(playerChoice,comptChoice){
                if (playerChoice == comptChoice) {
                    return(`You Tied:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints} to ${computerPoints}`);
                }
                else if (playerChoice=="rock" && comptChoice=="paper"){
                    return(`You Loose:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints} to ${computerPoints += 1}`);
                }
                else if (playerChoice=="rock" && comptChoice=="scissors"){
                    return(`You Win:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints += 1} to ${computerPoints}`);
                }
                else if (playerChoice=="paper" && comptChoice=="rock"){
                    return(`You Win:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints += 1} to ${computerPoints}`);
                }
                else if (playerChoice=="paper" && comptChoice=="scissors"){
                    return(`You Loose:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints} to ${computerPoints += 1}`);
                }
                else if (playerChoice=="scissors" && comptChoice=="rock"){
                    return(`You Loose:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints} to ${computerPoints += 1}`);
                }
                else if (playerChoice=="scissors" && comptChoice=="paper"){
                    return(`You Win:  ${playerChoice} vs ${comptChoice}  Score: ${playerPoints += 1} to ${computerPoints}`);
                }
                else {
                    return("Error! Something went wrong check.");
                }
            }
            function playRound(){
                let playerAnswer = playerPlay();
                let comptChoice = computerPlay();
                console.log(winLoose(playerAnswer,comptChoice));
            }
            function gameWin() {
                if (playerPoints > computerPoints) {
                    return("Player wins the game: " +playerPoints +" to " +computerPoints)
                }
                else if (playerPoints < computerPoints) {
                    return("Computer wins the game: " +playerPoints +" to " +computerPoints)
                }
                else if (playerPoints == computerPoints) {
                    return("Tie game: " +playerPoints +" to "  +computerPoints)
                }
                else {
                    return("Error! Something went wrong.")
                }
            }
            
            let gameIsOn = true;
            let rounds =0;
            function gameFive() {
                
                while (gameIsOn){
                    for (let step = 0; step < 2; step++) {
                    // Runs 5 times, with values of step 0 through 4.
                        console.log(`Round ${rounds += 1}`)
                        playRound();
                    }
                    
                    continuePlayingPrompt();
                }
                console.log(gameWin())
            }
            function continuePlayingPrompt() {
                let continueAnswer= prompt("Do you wish to continue playing?").toLowerCase();
                if (continueAnswer == "yes" || continueAnswer == "y"){
                    gameIsOn = true;
                }
                else if (continueAnswer ==  "no" || continueAnswer ==  "n") {
                    gameIsOn = false;
                }
            }
            
            gameFive();
        </script>
    </body>
</html>